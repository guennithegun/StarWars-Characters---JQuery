var starwarsRepository=function(){var a=[],e="https://akabab.github.io/starwars-api/api/all.json";function n(e){a.push(e)}function t(){$("#modal-container").removeClass("is-visible")}function i(a){!function(a,e,n,i,o,s,p,r){var d=$("#modal-container");d.empty();var c=$('<div class="modal"></div>'),l=$('<div class="button-element"></div>'),m=$('<button class="modal-close">Close</button>');m.on("click",t);var u=$('<div class="image-container"></div>'),h=$('<img src="'+r+'" class="character-image">'),f=$("<h1>"+a+"<h1>"),v=$("<p>Mass: "+e+"</p>"),g=$("<p>Height: "+n+"</p>"),w=$("<p>Gender: "+i+"</p>"),b=$("<p>Homeworld: "+o+"</p>"),y=$("<p>Species: "+s+"</p>"),k=$("<p>More Details: </p>"),C=$('<a href="'+p+'" target="_blank">Here</a>');c.append(l),l.append(m),c.append(u),u.append(h),u.append(f),c.append(v),c.append(g),c.append(w),c.append(b),c.append(y),c.append(k),k.append(C),d.append(c),d.addClass("is-visible"),d.velocity("fadeIn",{duration:500})}(a.name,a.mass,a.height,a.gender,a.homeworld,a.species,a.more,a.img)}$(window).on("keydown",function(a){var e=$("#modal-container");"Escape"===a.key&&e.hasClass("is-visible")&&t()});var o=$("#modal-container");return o.on("click",function(a){$(a.target).is(o)&&t()}),{add:n,getAll:function(){return a},addListItem:function(a){var e=$("ul"),n=$("<li></li>"),t=$("<span>"+a.name+"</span>"),o=$("<button>+</button>");n.addClass("content__item"),o.addClass("content__item--button"),e.append(n),n.append(t),n.append(o),o.on("click",function(){i(a)}),o.on("click",function(){new Audio("files/lasrhit4.mp3").play()})},showDetails:i,loadList:function(){return $.ajax(e,{dataType:"json"}).then(function(a){a.forEach(function(a){n({name:a.name,mass:a.mass,height:a.height,gender:a.gender,homeworld:a.homeworld,species:a.species,more:a.wiki,img:a.image})})}).catch(function(a){console.error(a)})}}}();starwarsRepository.loadList().then(function(){starwarsRepository.getAll().forEach(function(a){starwarsRepository.addListItem(a)})});
